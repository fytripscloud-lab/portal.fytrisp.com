<section class="content">
    <div class="content-block">
        @for (breadscrum of breadscrums; track breadscrum) {
        <div class="block-header">
            <!-- breadcrumb -->
            <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
            </app-breadcrumb>
        </div>
        }
    <div class="row clearfix">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
            <div class="body">
                <!-- Add content here -->
                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="card">
                            <div class="header">
                                <h2>{{breadscrums[0].title}}</h2>
                            </div>
                            <div class="body">
                                <form class="register-form m-4" [formGroup]="eventForm">                                 
                                    <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Title</mat-label>
                                            <input matInput formControlName="title" (input)="onTitleChange()" required>
                                            <mat-error *ngIf="eventForm.get('title')?.hasError('required')">
                                              Event title is required
                                            </mat-error>
                                          </mat-form-field>
           
                                    </div>
                                    <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Short Description</mat-label>
                                            <textarea matInput formControlName="short_description" rows="3"></textarea>                                           
                                          </mat-form-field>
           
                                    </div>
                                    <div class="NgxEditor__Wrapper">
                                        <ngx-editor-menu [editor]="editor!" [toolbar]="toolbar!"> </ngx-editor-menu>
                                        <ngx-editor [editor]="editor!" [placeholder]="'Type here...'" class="NgxEditorStyles" formControlName="content"></ngx-editor>
                                      </div>
                                      <mat-error *ngIf="eventForm.get('content')?.hasError('required')">
                                        Event content is required
                                      </mat-error>
                                      <div class="form-row mt-3">
                                        <mat-form-field class="example-full-width mb-3" appearance="outline">
                                          <mat-label>Start Date</mat-label>
                                          <input matInput [matDatepicker]="picker" formControlName="start_date" [min]="minDate" (focus)="picker.open()" required>
                                          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                          <mat-datepicker #picker></mat-datepicker>
                                        </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width mb-3" appearance="outline">
                                          <mat-label>End Date</mat-label>
                                          <input matInput [matDatepicker]="pickerend" formControlName="end_date" [min]="minDate" (focus)="pickerend.open()">
                                          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                          <mat-datepicker #pickerend></mat-datepicker>
                                        </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Start Time</mat-label>
                                            <input matInput [ngxTimepicker]="startTimePicker" formControlName="start_time" readonly>
                                            <ngx-material-timepicker-toggle matIconSuffix [for]="startTimePicker"></ngx-material-timepicker-toggle>
                                            <ngx-material-timepicker #startTimePicker></ngx-material-timepicker>
                                          </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>End Time</mat-label>
                                            <input matInput [ngxTimepicker]="endTimePicker" formControlName="end_time" readonly>
                                            <ngx-material-timepicker-toggle matIconSuffix [for]="endTimePicker"></ngx-material-timepicker-toggle>
                                            <ngx-material-timepicker #endTimePicker></ngx-material-timepicker>
                                          </mat-form-field>
                                      </div>                                      
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Venue Name</mat-label>
                                            <input matInput formControlName="venue_name">
                                          </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                          <mat-label>Venue Address</mat-label>
                                          <input matInput
                                                formControlName="address"
                                                #searchInput
                                                autocomplete="off">
                                        </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>City</mat-label>
                                            <input matInput formControlName="city">
                                          </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>State</mat-label>
                                            <input matInput formControlName="state">
                                          </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Country</mat-label>
                                            <input matInput formControlName="country">
                                          </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Youtube Video Link</mat-label>
                                            <input matInput formControlName="youtube_url">
                                        </mat-form-field>
                                      </div>
                                      <div class="form-row">
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Meta Title</mat-label>
                                            <input matInput formControlName="meta_title" required>
                                            <mat-error *ngIf="eventForm.get('meta_title')?.hasError('required')">
                                              Meta title is required
                                            </mat-error>
                                          </mat-form-field>
                                        <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Meta Description</mat-label>
                                            <textarea matInput formControlName="meta_description"></textarea>
                                          </mat-form-field>
                                          <mat-form-field class="example-full-width" appearance="outline">
                                            <mat-label>Meta Keywords</mat-label>
                                            <input matInput formControlName="meta_keywords">
                                          </mat-form-field>
                                          <!-- <app-file-upload formControlName="uploadFile" accept="images/*" formControlName="uploaded_files" (change)="onFileSelected($event)"></app-file-upload> -->                                         
                                          <div class=" col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                            <div class="routes-images">
                                              <h6>Uploads Images</h6>
                                              <div class="routes-gllry">
                                                <div class="uploaded-mage" *ngFor="let preview of imagePreviews; let i=index;">                                             
                                                  <img [src]="preview" />
                                                </div>
                                                <mat-card class="upload-card" (click)="fileInput.click()">
                                                  <mat-card-content>
                                                    <mat-icon fontSize="large" class="upload-icon">upload</mat-icon>
                                                    <p>Upload Images</p>
                                                    <input #fileInput type="file" (change)="onFileSelected($event)" accept="image/*" multiple hidden>
                                                  </mat-card-content>
                                                </mat-card>
                                              </div>
                                            </div>
                                          </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                            <button class="btn-space" mat-raised-button color="primary" [disabled]="isLoading" (click)="saveEventForm()">
                                              {{isLoading?'Saving...':'Submit'}}</button>
                                            <button mat-raised-button type="button" routerLink="/blog" color="warn" class="msr-2">Cancel</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</section>